!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.f=e();else if("function"==typeof define&&define.M)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ID3=e()}}(function(){return function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);throw(c=Error("Cannot find module '"+o+"'")).code="MODULE_NOT_FOUND",c}c=r[o]={f:{}},t[o][0].call(c.f,function(e){var r=t[o][1][e];return i(r||e)},c,c.f,e,t,r,n)}return r[o].f}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t){var r=e("./stringutils");if("undefined"!=typeof document){var n=document.createElement("script");n.type="text/vbscript",n.textContent="Function IEBinary_getByteAt(strBinary, iOffset)\r\n\tIEBinary_getByteAt = AscB(MidB(strBinary,iOffset+1,1))\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n\tIEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n",document.getElementsByTagName("head")[0].appendChild(n)}else e("btoa"),e("atob");t.f=function(e,t,n){var i=t||0,a=0;"string"==typeof e?(a=n||e.length,this.a=function(t){return 255&e.charCodeAt(t+i)}):"unknown"==typeof e&&(a=n||IEBinary_getLength(e),this.a=function(t){return IEBinary_getByteAt(e,t+i)}),this.s=function(e,t){for(var r=Array(t),n=0;n<t;n++)r[n]=this.a(e+n);return r},this.l=function(){return a},this.g=function(e,t){return 0!=(this.a(e)&1<<t)},this.F=function(e){return 0>(e=(this.a(e+1)<<8)+this.a(e))&&(e+=65536),e},this.m=function(e){var t=this.a(e);return 0>(t=(((t<<8)+this.a(e+1)<<8)+this.a(e+2)<<8)+(e=this.a(e+3)))&&(t+=4294967296),t},this.w=function(e){var t=this.a(e);return 0>(t=((t<<8)+this.a(e+1)<<8)+(e=this.a(e+2)))&&(t+=16777216),t},this.c=function(e,t){for(var r=[],n=e,i=0;n<e+t;n++,i++)r[i]=String.fromCharCode(this.a(n));return r.join("")},this.h=function(e,t,n){switch(e=this.s(e,t),n.toLowerCase()){case"utf-16":case"utf-16le":case"utf-16be":n=r.J(e,n);break;case"utf-8":n=r.K(e);break;default:n=r.I(e)}return n},this.i=function(e,t){t()}}},{"./stringutils":9,atob:void 0,btoa:void 0}],2:[function(e,t){var r=e("./binaryfile");t.f=function(t,n,i){function a(e,t,r,n,i,a){var s=o();s?(void 0===a&&(a=!0),t&&(void 0!==s.onload?(s.onload=function(){"200"==s.status||"206"==s.status?(s.fileSize=i||s.getResponseHeader("Content-Length"),t(s)):r&&r({error:"xhr",xhr:s}),s=null},r&&(s.onerror=function(){r({error:"xhr",xhr:s}),s=null})):s.onreadystatechange=function(){4==s.readyState&&("200"==s.status||"206"==s.status?(s.fileSize=i||s.getResponseHeader("Content-Length"),t(s)):r&&r({error:"xhr",xhr:s}),s=null)}),s.open("GET",e,a),s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),n&&s.setRequestHeader("Range","bytes="+n[0]+"-"+n[1]),s.setRequestHeader("If-Modified-Since","Sat, 01 Jan 1970 00:00:00 GMT"),s.send(null)):r&&r({error:"Unable to create XHR object"})}function o(){var t=null;return"undefined"==typeof window?t=new(e("xmlhttprequest").XMLHttpRequest):window.XMLHttpRequest?t=new window.XMLHttpRequest:window.ActiveXObject&&(t=new window.ActiveXObject("Microsoft.XMLHTTP")),t}function s(e,t){var n,o;function s(e){var t=~~(e[0]/n)-o;return e=1+~~(e[1]/n)+o,0>t&&(t=0),e>=blockTotal&&(e=blockTotal-1),[t,e]}function c(r,o){for(;l[r[0]];)if(r[0]++,r[0]>r[1])return void(o&&o());for(;l[r[1]];)if(r[1]--,r[0]>r[1])return void(o&&o());var s=[r[0]*n,(r[1]+1)*n-1];a(e,function(e){parseInt(e.getResponseHeader("Content-Length"),10)==t&&(r[0]=0,r[1]=blockTotal-1,s[0]=0,s[1]=t-1),e={data:e.W||e.responseText,offset:s[0]};for(var n=r[0];n<=r[1];n++)l[n]=e;o&&o()},i,s,f,!!o)}var f,u=new r("",0,t),l=[];for(var d in n=n||2048,o=void 0===o?0:o,blockTotal=1+~~((t-1)/n),u)u.hasOwnProperty(d)&&"function"==typeof u[d]&&(this[d]=u[d]);this.a=function(e){var t;return c(s([e,e])),(t=l[~~(e/n)])&&"string"==typeof t.data?255&t.data.charCodeAt(e-t.offset):t&&"unknown"==typeof t.data?IEBinary_getByteAt(t.data,e-t.offset):""},this.i=function(e,t){c(s(e),t)}}!function(e,t,r){var n=o();n?(t&&(void 0!==n.onload?(n.onload=function(){"200"==n.status||"206"==n.status?t(this):r&&r({error:"xhr",xhr:n}),n=null},r&&(n.onerror=function(){r({error:"xhr",xhr:n}),n=null})):n.onreadystatechange=function(){4==n.readyState&&("200"==n.status||"206"==n.status?t(this):r&&r({error:"xhr",xhr:n}),n=null)}),n.open("HEAD",e,!0),n.send(null)):r&&r({error:"Unable to create XHR object"})}(t,function(e){e=parseInt(e.getResponseHeader("Content-Length"),10)||-1,n(new s(t,e))},i)}},{"./binaryfile":1,xmlhttprequest:void 0}],3:[function(e,t){var r=e("./binaryfile");t.f=function(e,t){return function(n,i){var a=t||new FileReader;a.onload=function(e){i(new r(e.target.result))},a.readAsBinaryString(e)}}},{"./binaryfile":1}],4:[function(e,t){function r(e){return"ftypM4A"==e.c(4,7)?n:"ID3"==e.c(0,3)?a:i}var n=e("./id4"),i=e("./id3v1"),a=e("./id3v2"),o=e("./bufferedbinaryajax"),s=e("./filereader");"undefined"!=typeof window&&(window.FileAPIReader=s);var c={},f={},u=[0,7];c.B=function(e){delete f[e]},c.A=function(){f={}},c.H=function(e,t,n){((n=n||{}).dataReader||o)(e,function(i){i.i(u,function(){var a=r(i);a.u(i,function(){var r,o=n.tags,s=a.v(i,o);o=f[e]||{};for(r in s)s.hasOwnProperty(r)&&(o[r]=s[r]);f[e]=o,t&&t()})})},n.onError)},c.D=function(e){if(!f[e])return null;var t,r={};for(t in f[e])f[e].hasOwnProperty(t)&&(r[t]=f[e][t]);return r},c.G=function(e,t){return f[e]?f[e][t]:null},c.FileAPIReader=s,c.loadTags=c.H,c.getAllTags=c.D,c.getTag=c.G,c.clearTags=c.B,c.clearAll=c.A,t.f=c},{"./bufferedbinaryajax":2,"./filereader":3,"./id3v1":5,"./id3v2":6,"./id4":8}],5:[function(e,t){var r={},n="Blues;Classic Rock;Country;Dance;Disco;Funk;Grunge;Hip-Hop;Jazz;Metal;New Age;Oldies;Other;Pop;R&B;Rap;Reggae;Rock;Techno;Industrial;Alternative;Ska;Death Metal;Pranks;Soundtrack;Euro-Techno;Ambient;Trip-Hop;Vocal;Jazz+Funk;Fusion;Trance;Classical;Instrumental;Acid;House;Game;Sound Clip;Gospel;Noise;AlternRock;Bass;Soul;Punk;Space;Meditative;Instrumental Pop;Instrumental Rock;Ethnic;Gothic;Darkwave;Techno-Industrial;Electronic;Pop-Folk;Eurodance;Dream;Southern Rock;Comedy;Cult;Gangsta;Top 40;Christian Rap;Pop/Funk;Jungle;Native American;Cabaret;New Wave;Psychadelic;Rave;Showtunes;Trailer;Lo-Fi;Tribal;Acid Punk;Acid Jazz;Polka;Retro;Musical;Rock & Roll;Hard Rock;Folk;Folk-Rock;National Folk;Swing;Fast Fusion;Bebob;Latin;Revival;Celtic;Bluegrass;Avantgarde;Gothic Rock;Progressive Rock;Psychedelic Rock;Symphonic Rock;Slow Rock;Big Band;Chorus;Easy Listening;Acoustic;Humour;Speech;Chanson;Opera;Chamber Music;Sonata;Symphony;Booty Bass;Primus;Porn Groove;Satire;Slow Jam;Club;Tango;Samba;Folklore;Ballad;Power Ballad;Rhythmic Soul;Freestyle;Duet;Punk Rock;Drum Solo;Acapella;Euro-House;Dance Hall".split(";");r.u=function(e,t){var r=e.l();e.i([r-128-1,r],t)},r.v=function(e){var t=e.l()-128;if("TAG"==e.c(t,3)){var r=e.c(t+3,30).replace(/\0/g,""),i=e.c(t+33,30).replace(/\0/g,""),a=e.c(t+63,30).replace(/\0/g,""),o=e.c(t+93,4).replace(/\0/g,"");if(0==e.a(t+97+28))var s=e.c(t+97,28).replace(/\0/g,""),c=e.a(t+97+29);else s="",c=0;return{version:"1.1",title:r,artist:i,album:a,year:o,comment:s,track:c,genre:255>(e=e.a(t+97+30))?n[e]:""}}return{}},t.f=r},{}],6:[function(e,t){function r(e,t){var r=t.a(e),n=t.a(e+1),i=t.a(e+2);return 127&t.a(e+3)|(127&i)<<7|(127&n)<<14|(127&r)<<21}var n=e("./id3v2frames");n.frames={BUF:"Recommended buffer size",CNT:"Play counter",COM:"Comments",CRA:"Audio encryption",CRM:"Encrypted meta frame",ETC:"Event timing codes",EQU:"Equalization",GEO:"General encapsulated object",IPL:"Involved people list",LNK:"Linked information",MCI:"Music CD Identifier",MLL:"MPEG location lookup table",PIC:"Attached picture",POP:"Popularimeter",REV:"Reverb",RVA:"Relative volume adjustment",SLT:"Synchronized lyric/text",STC:"Synced tempo codes",TAL:"Album/Movie/Show title",TBP:"BPM (Beats Per Minute)",TCM:"Composer",TCO:"Content type",TCR:"Copyright message",TDA:"Date",TDY:"Playlist delay",TEN:"Encoded by",TFT:"File type",TIM:"Time",TKE:"Initial key",TLA:"Language(s)",TLE:"Length",TMT:"Media type",TOA:"Original artist(s)/performer(s)",TOF:"Original filename",TOL:"Original Lyricist(s)/text writer(s)",TOR:"Original release year",TOT:"Original album/Movie/Show title",TP1:"Lead artist(s)/Lead performer(s)/Soloist(s)/Performing group",TP2:"Band/Orchestra/Accompaniment",TP3:"Conductor/Performer refinement",TP4:"Interpreted, remixed, or otherwise modified by",TPA:"Part of a set",TPB:"Publisher",TRC:"ISRC (International Standard Recording Code)",TRD:"Recording dates",TRK:"Track number/Position in set",TSI:"Size",TSS:"Software/hardware and settings used for encoding",TT1:"Content group description",TT2:"Title/Songname/Content description",TT3:"Subtitle/Description refinement",TXT:"Lyricist/text writer",TXX:"User defined text information frame",TYE:"Year",UFI:"Unique file identifier",ULT:"Unsychronized lyric/text transcription",WAF:"Official audio file webpage",WAR:"Official artist/performer webpage",WAS:"Official audio source webpage",WCM:"Commercial information",WCP:"Copyright/Legal information",WPB:"Publishers official webpage",WXX:"User defined URL link frame",AENC:"Audio encryption",APIC:"Attached picture",COMM:"Comments",COMR:"Commercial frame",ENCR:"Encryption method registration",EQUA:"Equalization",ETCO:"Event timing codes",GEOB:"General encapsulated object",GRID:"Group identification registration",IPLS:"Involved people list",LINK:"Linked information",MCDI:"Music CD identifier",MLLT:"MPEG location lookup table",OWNE:"Ownership frame",PRIV:"Private frame",PCNT:"Play counter",POPM:"Popularimeter",POSS:"Position synchronisation frame",RBUF:"Recommended buffer size",RVAD:"Relative volume adjustment",RVRB:"Reverb",SYLT:"Synchronized lyric/text",SYTC:"Synchronized tempo codes",TALB:"Album/Movie/Show title",TBPM:"BPM (beats per minute)",TCOM:"Composer",TCON:"Content type",TCOP:"Copyright message",TDAT:"Date",TDLY:"Playlist delay",TENC:"Encoded by",TEXT:"Lyricist/Text writer",TFLT:"File type",TIME:"Time",TIT1:"Content group description",TIT2:"Title/songname/content description",TIT3:"Subtitle/Description refinement",TKEY:"Initial key",TLAN:"Language(s)",TLEN:"Length",TMED:"Media type",TOAL:"Original album/movie/show title",TOFN:"Original filename",TOLY:"Original lyricist(s)/text writer(s)",TOPE:"Original artist(s)/performer(s)",TORY:"Original release year",TOWN:"File owner/licensee",TPE1:"Lead performer(s)/Soloist(s)",TPE2:"Band/orchestra/accompaniment",TPE3:"Conductor/performer refinement",TPE4:"Interpreted, remixed, or otherwise modified by",TPOS:"Part of a set",TPUB:"Publisher",TRCK:"Track number/Position in set",TRDA:"Recording dates",TRSN:"Internet radio station name",TRSO:"Internet radio station owner",TSIZ:"Size",TSRC:"ISRC (international standard recording code)",TSSE:"Software/Hardware and settings used for encoding",TYER:"Year",TXXX:"User defined text information frame",UFID:"Unique file identifier",USER:"Terms of use",USLT:"Unsychronized lyric/text transcription",WCOM:"Commercial information",WCOP:"Copyright/Legal information",WOAF:"Official audio file webpage",WOAR:"Official artist/performer webpage",WOAS:"Official audio source webpage",WORS:"Official internet radio station homepage",WPAY:"Payment",WPUB:"Publishers official webpage",WXXX:"User defined URL link frame"};var i={title:["TIT2","TT2"],artist:["TPE1","TP1"],album:["TALB","TAL"],year:["TYER","TYE"],comment:["COMM","COM"],track:["TRCK","TRK"],genre:["TCON","TCO"],picture:["APIC","PIC"],lyrics:["USLT","ULT"]},a=["title","artist","album","track"];n.u=function(e,t){e.i([0,r(6,e)],t)},n.v=function(e,t){var o=0;if(4<(m=e.a(o+3)))return{version:">2.4"};var s=e.a(o+4),c=e.g(o+5,7),f=e.g(o+5,6),u=e.g(o+5,5),l=r(o+6,e);o+=10;if(f)o=o+((p=e.m(o))+4);var d,m={version:"2."+m+"."+s,major:m,revision:s,flags:{unsynchronisation:c,extended_header:f,experimental_indicator:u},size:l};if(c)d={};else{l=l-10,c=e,s=t,f={},u=m.major;for(var g,p=[],T=0;g=(s||a)[T];T++)p=p.concat(i[g]||[g]);for(s=p;o<l;){p=null,T=c,g=o;var h=null;switch(u){case 2:d=T.c(g,3);var v=T.w(g+3),y=6;break;case 3:d=T.c(g,4),v=T.m(g+4),y=10;break;case 4:d=T.c(g,4),v=r(g+4,T),y=10}if(""==d)break;if(o+=y+v,!(0>s.indexOf(d))){if(2<u){var C=g+8;h={message:{Y:(h=T).g(C,6),R:h.g(C,5),V:h.g(C,4)},format:{T:h.g(C+1,7),N:h.g(C+1,3),P:h.g(C+1,2),L:h.g(C+1,1),C:h.g(C+1,0)}}}g+=y,h&&h.format.C&&(r(g,T),g+=4,v-=4),h&&h.format.L||(d in n.b?p=n.b[d]:"T"==d[0]&&(p=n.b["T*"]),p=p?p(g,v,T,h):void 0,p={id:d,size:v,description:d in n.frames?n.frames[d]:"Unknown",data:p},d in f?(f[d].id&&(f[d]=[f[d]]),f[d].push(p)):f[d]=p)}}d=f}for(var b in i)if(i.hasOwnProperty(b)){e:{for("string"==typeof(v=i[b])&&(v=[v]),y=0,o=void 0;o=v[y];y++)if(o in d){e=d[o].data;break e}e=void 0}e&&(m[b]=e)}for(var P in d)d.hasOwnProperty(P)&&(m[P]=d[P]);return m},t.f=n},{"./id3v2frames":7}],7:[function(e,t){function r(e){var t;switch(e){case 0:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8"}return t}var n={b:{}},i="32x32 pixels 'file icon' (PNG only);Other file icon;Cover (front);Cover (back);Leaflet page;Media (e.g. lable side of CD);Lead artist/lead performer/soloist;Artist/performer;Conductor;Band/Orchestra;Composer;Lyricist/text writer;Recording Location;During recording;During performance;Movie/video screen capture;A bright coloured fish;Illustration;Band/artist logotype;Publisher/Studio logotype".split(";");n.b.APIC=function(e,t,n,a,o){o=o||"3",a=e;var s=r(n.a(e));switch(o){case"2":var c=n.c(e+1,3);e+=4;break;case"3":case"4":e+=1+(c=n.h(e+1,t-(e-a),"")).j}return o=n.a(e,1),o=i[o],e+=1+(s=n.h(e+1,t-(e-a),s)).j,{format:c.toString(),type:o,description:s.toString(),data:n.s(e,a+t-e)}},n.b.COMM=function(e,t,n){var i=e,a=r(n.a(e)),o=n.c(e+1,3),s=n.h(e+4,t-4,a);return e+=4+s.j,e=n.h(e,i+t-e,a),{language:o,X:s.toString(),text:e.toString()}},n.b.COM=n.b.COMM,n.b.PIC=function(e,t,r,i){return n.b.APIC(e,t,r,i,"2")},n.b.PCNT=function(e,t,r){return r.S(e)},n.b.CNT=n.b.PCNT,n.b["T*"]=function(e,t,n){var i=r(n.a(e));return n.h(e+1,t-1,i).toString()},n.b.TCON=function(e,t,r){return n.b["T*"].apply(this,arguments).replace(/^\(\d+\)/,"")},n.b.TCO=n.b.TCON,n.b.USLT=function(e,t,n){var i=e,a=r(n.a(e)),o=n.c(e+1,3),s=n.h(e+4,t-4,a);return e+=4+s.j,e=n.h(e,i+t-e,a),{language:o,O:s.toString(),U:e.toString()}},n.b.ULT=n.b.USLT,t.f=n},{}],8:[function(e,t){var r={types:{0:"uint8",1:"text",13:"jpeg",14:"png",21:"uint8"},o:{"©alb":["album"],"©art":["artist"],"©ART":["artist"],aART:["artist"],"©day":["year"],"©nam":["title"],"©gen":["genre"],trkn:["track"],"©wrt":["composer"],"©too":["encoder"],cprt:["copyright"],covr:["picture"],"©grp":["grouping"],keyw:["keyword"],"©lyr":["lyrics"],"©cmt":["comment"],tmpo:["tempo"],cpil:["compilation"],disk:["disc"]},u:function(e,t){e.i([0,7],function(){!function e(t,n,i,a){var o=t.m(n);if(0==o)a();else{var s=t.c(n+4,4);-1<["moov","udta","meta","ilst"].indexOf(s)?("meta"==s&&(n+=4),t.i([n+8,n+8+8],function(){e(t,n+8,o-8,a)})):t.i([n+(s in r.o?0:o),n+o+8],function(){e(t,n+o,i,a)})}}(e,0,e.l(),t)})},v:function(e){var t={};return function e(t,n,i,a,o){o=void 0===o?"":o+"  ";for(var s=i;s<i+a;){var c=n.m(s);if(0==c)break;var f=n.c(s+4,4);if(-1<["moov","udta","meta","ilst"].indexOf(f)){"meta"==f&&(s+=4),e(t,n,s+8,c-8,o);break}if(r.o[f]){var u=n.w(s+16+1),l=r.o[f];if(u=r.types[u],"trkn"==f)t[l[0]]=n.a(s+16+11),t.count=n.a(s+16+13);else{f=s+16+4+4;var d,m=c-16-4-4;switch(u){case"text":d=n.h(f,m,"UTF-8");break;case"uint8":d=n.F(f);break;case"jpeg":case"png":d={format:"image/"+u,data:n.s(f,m)}}t[l[0]]="comment"===l[0]?{text:d}:d}}s+=c}}(t,e,0,e.l()),t}};t.f=r},{}],9:[function(e,t){t.f={J:function(e,t,r){var n=0,i=1,a=0;r=Math.min(r||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,n=2):255==e[0]&&254==e[1]&&(t=!1,n=2),t&&(i=0,a=1),t=[];for(var o=0;n<r;o++){var s=e[n+i],c=(s<<8)+e[n+a];n=n+2;if(0==c)break;216>s||224<=s?t[o]=String.fromCharCode(c):(s=(e[n+i]<<8)+e[n+a],n+=2,t[o]=String.fromCharCode(c,s))}return(e=new String(t.join(""))).j=n,e},K:function(e,t){var r=0;t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(r=3);for(var n=[],i=0;r<t;i++){if(0==(s=e[r++]))break;if(128>s)n[i]=String.fromCharCode(s);else if(194<=s&&224>s){var a=e[r++];n[i]=String.fromCharCode(((31&s)<<6)+(63&a))}else if(224<=s&&240>s){a=e[r++];var o=e[r++];n[i]=String.fromCharCode(((255&s)<<12)+((63&a)<<6)+(63&o))}else if(240<=s&&245>s){var s=((7&s)<<18)+((63&(a=e[r++]))<<12)+((63&(o=e[r++]))<<6)+(63&e[r++])-65536;n[i]=String.fromCharCode(55296+(s>>10),56320+(1023&s))}}return(n=new String(n.join(""))).j=r,n},I:function(e,t){var r=[];t=t||e.length;for(var n=0;n<t;){var i=e[n++];if(0==i)break;r[n-1]=String.fromCharCode(i)}return(r=new String(r.join(""))).j=n,r}}},{}]},{},[4])(4)});